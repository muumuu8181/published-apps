# ベクトル場流線シミュレーター 要件定義書

## アプリ概要
2D/3Dベクトル場を数学関数で定義し、流線をRunge-Kutta法でトレースする高度なシミュレーションツール

## 主要機能

### 1. ベクトル場定義
- 数学関数による場の定義
- curl（回転）計算
- divergence（発散）計算
- カスタム関数入力対応

### 2. 流線トレース
- Runge-Kutta法（4次）による高精度軌道計算
- リアルタイム粒子追跡
- 複数粒子同時シミュレーション

### 3. 初期条件設定
- 最大50粒子の同時配置
- 位置・速度のカスタム設定
- ランダム配置オプション

### 4. パラメータ調整
- 場の強度スライダー
- 渦巻き係数調整
- 時間ステップ制御
- シミュレーション速度調整

### 5. プリセット場
- 磁場モデル
- 流体力学モデル
- 渦流モデル
- 源泉・吸収モデル
- トルネードモデル
- 電場モデル
- 双極子場
- カオス場
- 層流モデル
- 乱流モデル

### 6. ビジュアライゼーション
- トレイルのグラデーション表示
- 輝度アニメーション効果
- ベクトル場の矢印表示
- 等高線表示オプション

### 7. 3Dビュー機能
- インタラクティブカメラコントロール
- ズーム・パン・回転
- 視点プリセット

### 8. 出力機能
- スナップショット画像保存
- シミュレーションデータエクスポート
- パラメータ設定の保存/読み込み

## 性能要件
- 軌道精度: 誤差<0.01
- シミュレーション時間: 1秒/100ステップ
- 解像度: フルHD対応
- フレームレート: 60fps目標

## 技術仕様
- フロントエンド: HTML5, CSS3, JavaScript (ES6+)
- 3D描画: WebGL/Three.js
- 数値計算: カスタム実装（Runge-Kutta法）
- GPUアクセラレーション: WebGL活用
# 要件・仕様書: めちゃくちゃ格好良いテトリス

## 元要求
めちゃくちゃ格好良いテトリス
- エフェクトに全振り
- 音も鳴らすこと
- とにかく見た目が格好良い
- ゲーム性、操作性も完璧

## 解釈した仕様
### 機能要件
1. **完全なテトリスゲーム**: 7種類のテトロミノ、ライン消去、レベル進行システム
2. **エフェクトシステム**: パーティクル爆発、ネオングロー、シャドウブラー効果
3. **音響システム**: Web Audio APIによる動的音響生成（移動・回転・ドロップ・ライン消去・ゲームオーバー）
4. **視覚デザイン**: ネオンスタイル、グラデーション、光る効果による未来的外観
5. **ゲーム機能**: スコアシステム、レベル管理、ネクストピース表示
6. **操作システム**: 矢印キー操作、スペースキーハードドロップ

### 非機能要件
1. **パフォーマンス**: 60FPS滑らかなゲームプレイ
2. **ユーザビリティ**: 直感的な操作性と分かりやすいUI
3. **視覚的魅力**: 圧倒的にクールで格好良いデザイン
4. **レスポンシブ**: デスクトップ・モバイル対応
5. **アクセシビリティ**: 音響とビジュアルの両方でフィードバック提供

## 技術的制約・判断
### 制約事項
- 純粋なHTML/CSS/JavaScriptのみ使用（外部ライブラリ不使用）
- Web Audio API対応ブラウザでの動作想定
- Canvas 2Dによる高品質グラフィック実現

### 技術選択の理由
1. **Canvas 2D**: 高性能な2Dグラフィック処理とエフェクト実現
2. **Web Audio API**: リアルタイム音響合成による豊富なサウンドエフェクト
3. **requestAnimationFrame**: 滑らかな60FPSゲームループ実現
4. **CSS Grid/Flexbox**: レスポンシブなUI設計
5. **Orbitronフォント**: サイバーパンク感のあるタイポグラフィ

### アーキテクチャ設計
#### ゲームエンジン構造
- **ゲームループ**: requestAnimationFrameベースの高精度フレーム制御
- **衝突検出**: テトロミノと配置済みブロックの正確な当たり判定
- **状態管理**: ゲーム状態（スコア・レベル・ライン数）の集中管理
- **入力処理**: キーボードイベントによるリアルタイム操作

#### エフェクトエンジン
- **パーティクルシステム**: ライン消去時の爆発エフェクト生成・管理
- **描画エンジン**: ネオングロー・シャドウブラー・グラデーション効果
- **アニメーション**: 滑らかなテトロミノ落下・回転動作

#### 音響エンジン
- **OscillatorNode**: 基本波形（サイン・スクエア・トライアングル・ソウトゥース）生成
- **GainNode**: 音量制御とフェードアウト効果
- **動的合成**: アクションに応じた音程・音色の動的変化

### デザイン仕様
#### カラーパレット
- **プライマリ**: シアン系ネオン (#00ffff)
- **セカンダリ**: マゼンタ系ネオン (#ff00ff) 
- **背景**: ダークネイビー (#0a0a14)
- **テキスト**: ブライトホワイト (#f0f0f0)

#### ビジュアル効果
- **ネオングロー**: box-shadow multiple layering
- **グラデーション**: 立体感のあるブロック表現
- **パーティクル**: ライン消去時の色彩豊かな爆発効果
- **グリッド**: 半透明シアンによる美しいプレイフィールド

#### UI設計
- **情報パネル**: スコア・レベル・ライン数・ネクストピース表示
- **操作ガイド**: 分かりやすいキー配置説明
- **ゲームオーバー**: 印象的な赤色ネオン表示

## 変更履歴
- Sat Jul 26 08:20:41 JST 2025: 初回作成
# 要件・仕様書: ゲームのエフェクト生成(RPG)

## 元要求
ゲームのエフェクト生成(RPG)
- 敵キャラのサンプル画像を用意する
- 斬撃を入れたり、殴ったり、攻撃をした際のエフェクトを用意
- エフェクトはとにかく格好良く。やりすぎなレベルで
- できるだけスタイリッシュ、モダン
- 一瞬で終わってしまうものから、10秒くらいの長々としたものまで
- これを使ってすぐにでもRPGを作成できるくらいの完成度
- あらゆる攻撃パターンを、思いつく限り用意して。かさ増しだけで単調にはならないように

## 解釈した仕様
### 機能要件
1. **攻撃エフェクトシステム**: 8種類の多彩な攻撃エフェクト（剣撃・刺突・パンチ・キック・魔法・火球・雷撃・回復）
2. **敵キャラクターシステム**: 5種類の敵キャラクター（オーク・スケルトン・ドラゴン・魔法使い・ゴーレム）
3. **パーティクルシステム**: リアルタイム生成・管理による爆発・軌跡・スパーク効果
4. **音響システム**: Web Audio APIによる攻撃別効果音生成
5. **視覚エフェクト**: 画面フラッシュ・敵震動・ダメージテキスト・光線描画
6. **統計システム**: 攻撃回数・ダメージ・クリティカル・エフェクト数追跡
7. **コンボシステム**: 複数攻撃の連続実行による派手な演出

### 非機能要件
1. **パフォーマンス**: 60FPS維持、軽量動作
2. **視覚的魅力**: 圧倒的にクールで格好良いエフェクト設計
3. **多様性**: 単調にならない豊富なエフェクトバリエーション
4. **レスポンシブ**: デスクトップ・モバイル対応
5. **直感性**: 分かりやすい操作インターフェース
6. **拡張性**: RPG作成に即座に利用可能な完成度

## 技術的制約・判断
### 制約事項
- 純粋なHTML/CSS/JavaScriptのみ使用（外部ライブラリ不使用）
- Web Audio API対応ブラウザでの動作想定
- Canvas 2Dによる高品質リアルタイムエフェクト実現

### 技術選択の理由
1. **Canvas 2D**: 高性能な2Dグラフィック処理とリアルタイムエフェクト実現
2. **Web Audio API**: リアルタイム音響合成による攻撃別サウンドエフェクト
3. **requestAnimationFrame**: 滑らかな60FPSパーティクルアニメーションループ
4. **CSS3アニメーション**: 敵キャラクター震動・画面フラッシュ効果
5. **Orbitronフォント**: サイバーパンク感のあるRPG的タイポグラフィ

### アーキテクチャ設計
#### エフェクトエンジン構造
- **パーティクルクラス**: 個別粒子の位置・速度・寿命・描画管理
- **攻撃関数群**: 各攻撃タイプ専用のエフェクト生成・描画ロジック
- **音響エンジン**: OscillatorNodeによる動的音響合成
- **描画ループ**: requestAnimationFrameベースのリアルタイム描画管理

#### 攻撃エフェクト設計
- **物理系攻撃**: 剣撃（光線・スパーク）、パンチ（衝撃波・放射線）
- **魔法系攻撃**: 魔法（魔法陣・ルーン）、火球（爆発・炎粒子）、雷撃（ジグザグ光線・電気粒子）
- **回復系**: 回復光（上昇粒子・癒し光）
- **コンボ系**: 複数攻撃の時間差連続実行

#### 音響エンジン設計
- **物理攻撃音**: sawtooth波（剣撃）、square波（打撃）
- **魔法攻撃音**: sine波（魔法・回復）、triangle波（火球）
- **特殊攻撃音**: white-noise（雷撃）
- **動的制御**: 周波数・音量の時間変化による臨場感演出

### デザイン仕様
#### 攻撃タイプ別エフェクト
1. **剣撃・刺突**: 金色光線、火花パーティクル、衝撃波
2. **パンチ・キック**: 放射状衝撃線、円形衝撃波、黄金エフェクト
3. **魔法**: 紫色魔法陣、ルーン文字、螺旋パーティクル
4. **火球**: 赤橙色爆発、炎パーティクル、放射状飛散
5. **雷撃**: シアンジグザグ光線、電気粒子、画面フラッシュ
6. **回復**: 緑色上昇光、癒し粒子、柔らかい光輪

#### 敵キャラクター仕様
1. **オーク戦士**: 👹 茶色基調、標準HP
2. **スケルトン**: 💀 ベージュ基調、低HP
3. **ドラゴン**: 🐉 赤色基調、高HP
4. **闇魔法使い**: 🧙‍♂️ 紫色基調、中HP
5. **石ゴーレム**: 🗿 灰色基調、最高HP

#### カラーパレット
- **プライマリ**: オレンジ系ネオン (#ff6b35)
- **セカンダリ**: シアン系ネオン (#00ffff)
- **ターシアリ**: 紫系ネオン (#7b68ee)
- **ダンジャー**: 赤系ネオン (#ff1744)
- **サクセス**: 緑系ネオン (#4caf50)
- **背景**: ダークネイビー (#0a0a0f)

#### UI設計
- **コントロールパネル**: 左側固定・グラスモーフィズム効果
- **バトルフィールド**: 中央メイン・グラデーション背景
- **統計パネル**: 下部情報表示・リアルタイム更新
- **レスポンシブ**: モバイル環境での最適化レイアウト

## 変更履歴
- Sat Jul 26 09:30:42 JST 2025: 初回作成
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåê „É™„Ç¢„É´„Çø„Ç§„É†Ë®ÄË™ûÂ≠¶Áøí„ÉªÁøªË®≥„Ç∑„Çπ„ÉÜ„É†</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            color: #333;
        }

        .language-hub {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
        }

        .panel {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .header {
            grid-column: 1 / -1;
            text-align: center;
            background: linear-gradient(45deg, #667eea, #f093fb);
            color: white;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .language-selector {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 15px;
            align-items: center;
            margin: 20px 0;
        }

        .lang-option {
            background: linear-gradient(45deg, rgba(102,126,234,0.1), rgba(240,147,251,0.1));
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .lang-option:hover {
            background: linear-gradient(45deg, rgba(102,126,234,0.2), rgba(240,147,251,0.2));
            transform: translateY(-2px);
        }

        .lang-option.active {
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102,126,234,0.3);
        }

        .flag {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .swap-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(45deg, #667eea, #f093fb);
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .swap-btn:hover {
            transform: rotate(180deg) scale(1.1);
        }

        .translator-section {
            margin: 20px 0;
        }

        .text-area {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.1em;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s;
        }

        .text-area:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102,126,234,0.3);
        }

        .translate-btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(45deg, #667eea, #f093fb);
            color: white;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 15px 0;
        }

        .translate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .lesson-card {
            background: rgba(102,126,234,0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lesson-card:hover {
            background: rgba(102,126,234,0.2);
            transform: translateX(5px);
        }

        .lesson-card.active {
            background: linear-gradient(45deg, rgba(102,126,234,0.3), rgba(240,147,251,0.3));
            border: 2px solid #667eea;
        }

        .progress-section {
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(102,126,234,0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #f093fb);
            border-radius: 10px;
            transition: width 0.5s;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .vocab-card {
            background: linear-gradient(45deg, rgba(240,147,251,0.1), rgba(102,126,234,0.1));
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .vocab-card:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .vocab-word {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .vocab-translation {
            font-size: 0.9em;
            color: #666;
        }

        .pronunciation-section {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .speak-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: none;
            background: rgba(255,255,255,0.2);
            color: white;
            font-size: 2em;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
        }

        .speak-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .speak-btn.speaking {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .quiz-section {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .quiz-question {
            font-size: 1.3em;
            margin-bottom: 20px;
            text-align: center;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .quiz-option {
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 8px;
            padding: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            background: rgba(255,255,255,0.3);
        }

        .quiz-option.correct {
            background: linear-gradient(45deg, #00b894, #00cec9);
        }

        .quiz-option.incorrect {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(45deg, rgba(102,126,234,0.1), rgba(240,147,251,0.1));
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
        }

        .chat-section {
            max-height: 300px;
            overflow-y: auto;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }

        .chat-message {
            background: rgba(102,126,234,0.1);
            border-radius: 10px;
            padding: 10px;
            margin: 8px 0;
        }

        .chat-message.user {
            background: linear-gradient(45deg, rgba(102,126,234,0.2), rgba(240,147,251,0.2));
            margin-left: 20px;
        }

        .chat-message.ai {
            background: rgba(240,147,251,0.1);
            margin-right: 20px;
        }

        .voice-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(45deg, #667eea, #f093fb);
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        @media (max-width: 768px) {
            .language-hub {
                grid-template-columns: 1fr;
                padding: 10px;
            }
            
            .language-selector {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .vocab-grid {
                grid-template-columns: 1fr;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <div class="language-hub">
        <div class="header panel">
            <h1>üåê LANGUAGE MASTER</h1>
            <p>AIÊê≠Ëºâ„É™„Ç¢„É´„Çø„Ç§„É†Ë®ÄË™ûÂ≠¶Áøí„ÉªÁøªË®≥„Ç∑„Çπ„ÉÜ„É†</p>
        </div>

        <!-- Left Panel -->
        <div class="panel fade-in">
            <h2 style="color: #667eea; margin-bottom: 20px;">üìö Â≠¶Áøí„É°„Éã„É•„Éº</h2>
            
            <div class="lesson-card active">
                <strong>üó£Ô∏è ‰ºöË©±Á∑¥Áøí</strong><br>
                <small>Êó•Â∏∏‰ºöË©±„ÅÆÂü∫Êú¨Ë°®Áèæ</small>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 75%;"></div>
                </div>
            </div>
            
            <div class="lesson-card">
                <strong>üìù ÂçòË™ûÂ≠¶Áøí</strong><br>
                <small>ÈáçË¶ÅË™ûÂΩô1000Ë™û</small>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 45%;"></div>
                </div>
            </div>
            
            <div class="lesson-card">
                <strong>üéß „É™„Çπ„Éã„É≥„Ç∞</strong><br>
                <small>Èü≥Â£∞Ë™çË≠ò„Éà„É¨„Éº„Éã„É≥„Ç∞</small>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 60%;"></div>
                </div>
            </div>
            
            <div class="lesson-card">
                <strong>‚úçÔ∏è „É©„Ç§„ÉÜ„Ç£„É≥„Ç∞</strong><br>
                <small>ÊñáÁ´†‰ΩúÊàêÁ∑¥Áøí</small>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 30%;"></div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">142</div>
                    <div class="stat-label">Â≠¶ÁøíÊó•Êï∞</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">1,847</div>
                    <div class="stat-label">ÁøíÂæóÂçòË™û</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">89%</div>
                    <div class="stat-label">Ê≠£Á≠îÁéá</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">Level 8</div>
                    <div class="stat-label">ÁèæÂú®„É¨„Éô„É´</div>
                </div>
            </div>

            <div class="pronunciation-section">
                <h3>üé§ Áô∫Èü≥Á∑¥Áøí</h3>
                <div class="voice-controls">
                    <button class="speak-btn" onclick="startListening()">üéôÔ∏è</button>
                    <button class="speak-btn" onclick="playPronunciation()">üîä</button>
                </div>
                <div id="pronunciationText">„Äå„Åì„Çì„Å´„Å°„ÅØ„Äç„ÇíÁô∫Èü≥„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ</div>
            </div>
        </div>

        <!-- Center Panel -->
        <div class="panel fade-in">
            <div class="language-selector">
                <div class="lang-option active" onclick="selectLanguage('ja')">
                    <div class="flag">üáØüáµ</div>
                    <div>Êó•Êú¨Ë™û</div>
                </div>
                <button class="swap-btn" onclick="swapLanguages()">üîÑ</button>
                <div class="lang-option" onclick="selectLanguage('en')">
                    <div class="flag">üá∫üá∏</div>
                    <div>English</div>
                </div>
            </div>

            <div class="translator-section">
                <h3 style="color: #667eea; margin-bottom: 15px;">üí¨ „É™„Ç¢„É´„Çø„Ç§„É†ÁøªË®≥</h3>
                <textarea class="text-area" id="inputText" placeholder="ÁøªË®≥„Åó„Åü„ÅÑ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ..."></textarea>
                <button class="translate-btn" onclick="translateText()">üåü ÁøªË®≥ÂÆüË°å</button>
                <textarea class="text-area" id="outputText" placeholder="ÁøªË®≥ÁµêÊûú„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô..." readonly></textarea>
            </div>

            <div class="chat-section" id="chatSection">
                <div class="chat-message ai">
                    <strong>AIÊïôÂ∏´:</strong> „Åì„Çì„Å´„Å°„ÅØÔºÅ‰ªäÊó•„ÅØ‰Ωï„ÇíÂ≠¶Áøí„Åó„Åæ„Åô„ÅãÔºü
                </div>
                <div class="chat-message user">
                    <strong>„ÅÇ„Å™„Åü:</strong> Ëã±Ë™û„ÅÆÊó•Â∏∏‰ºöË©±„ÇíÁ∑¥Áøí„Åó„Åü„ÅÑ„Åß„Åô
                </div>
                <div class="chat-message ai">
                    <strong>AIÊïôÂ∏´:</strong> Á¥†Êô¥„Çâ„Åó„ÅÑ„Åß„Åô„Å≠ÔºÅ„Åæ„Åö„ÅØÊå®Êã∂„Åã„ÇâÂßã„ÇÅ„Åæ„Åó„Çá„ÅÜ„ÄÇ"How are you today?"
                </div>
            </div>

            <div style="display: flex; gap: 10px;">
                <input type="text" id="chatInput" placeholder="„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ..." style="flex: 1; padding: 10px; border-radius: 20px; border: 2px solid #ddd;">
                <button class="btn" onclick="sendMessage()">ÈÄÅ‰ø°</button>
                <button class="btn" onclick="startVoiceChat()">üé§</button>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="panel fade-in">
            <h2 style="color: #667eea; margin-bottom: 20px;">üéØ ‰ªäÊó•„ÅÆÂçòË™û</h2>
            
            <div class="vocab-grid" id="vocabGrid">
                <div class="vocab-card" onclick="pronounceWord(this)">
                    <div class="vocab-word">beautiful</div>
                    <div class="vocab-translation">Áæé„Åó„ÅÑ</div>
                </div>
                <div class="vocab-card" onclick="pronounceWord(this)">
                    <div class="vocab-word">important</div>
                    <div class="vocab-translation">ÈáçË¶Å„Å™</div>
                </div>
                <div class="vocab-card" onclick="pronounceWord(this)">
                    <div class="vocab-word">different</div>
                    <div class="vocab-translation">Áï∞„Å™„Çã</div>
                </div>
                <div class="vocab-card" onclick="pronounceWord(this)">
                    <div class="vocab-word">excellent</div>
                    <div class="vocab-translation">Á¥†Êô¥„Çâ„Åó„ÅÑ</div>
                </div>
                <div class="vocab-card" onclick="pronounceWord(this)">
                    <div class="vocab-word">necessary</div>
                    <div class="vocab-translation">ÂøÖË¶Å„Å™</div>
                </div>
                <div class="vocab-card" onclick="pronounceWord(this)">
                    <div class="vocab-word">interesting</div>
                    <div class="vocab-translation">ËààÂë≥Ê∑±„ÅÑ</div>
                </div>
            </div>

            <div class="quiz-section">
                <h3>üß† „ÇØ„Ç§„Ç∫„Çø„Ç§„É†</h3>
                <div class="quiz-question" id="quizQuestion">
                    „ÄåÁæé„Åó„ÅÑ„Äç„ÇíËã±Ë™û„ÅßË®Ä„ÅÜ„Å®Ôºü
                </div>
                <div class="quiz-options">
                    <button class="quiz-option" onclick="selectQuizAnswer(this, true)">beautiful</button>
                    <button class="quiz-option" onclick="selectQuizAnswer(this, false)">handsome</button>
                    <button class="quiz-option" onclick="selectQuizAnswer(this, false)">pretty</button>
                    <button class="quiz-option" onclick="selectQuizAnswer(this, false)">nice</button>
                </div>
            </div>

            <div style="margin-top: 20px;">
                <h3 style="color: #667eea; margin-bottom: 15px;">üéÆ Â≠¶Áøí„Ç≤„Éº„É†</h3>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                    <button class="btn" onclick="startWordGame()">üî§ ÂçòË™û„Ç≤„Éº„É†</button>
                    <button class="btn" onclick="startMemoryGame()">üß© Ë®òÊÜ∂„Ç≤„Éº„É†</button>
                    <button class="btn" onclick="startSpeedQuiz()">‚ö° „Çπ„Éî„Éº„Éâ„ÇØ„Ç§„Ç∫</button>
                    <button class="btn" onclick="startStoryMode()">üìñ „Çπ„Éà„Éº„É™„Éº„É¢„Éº„Éâ</button>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" onclick="exportProgress()">üìä ÈÄ≤Êçó„Ç®„ÇØ„Çπ„Éù„Éº„Éà</button>
                <button class="btn" onclick="shareAchievement()">üèÜ ÊàêÊûú„Ç∑„Çß„Ç¢</button>
            </div>
        </div>
    </div>

    <script>
        let currentFromLang = 'ja';
        let currentToLang = 'en';
        let isListening = false;
        let chatMessages = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateVocabulary();
            generateNewQuiz();
            setInterval(updateProgress, 10000);
        });

        function selectLanguage(lang) {
            document.querySelectorAll('.lang-option').forEach(option => {
                option.classList.remove('active');
            });
            event.target.closest('.lang-option').classList.add('active');
            
            if (event.target.closest('.lang-option').onclick.toString().includes(lang)) {
                currentFromLang = lang;
            }
            
            showNotification(`Ë®ÄË™û„Çí${lang === 'ja' ? 'Êó•Êú¨Ë™û' : 'Ëã±Ë™û'}„Å´Â§âÊõ¥„Åó„Åæ„Åó„Åü`, 'info');
        }

        function swapLanguages() {
            const temp = currentFromLang;
            currentFromLang = currentToLang;
            currentToLang = temp;
            
            // Swap active states
            document.querySelectorAll('.lang-option').forEach(option => {
                option.classList.toggle('active');
            });
            
            showNotification('Ë®ÄË™û„ÇíÂÖ•„ÇåÊõø„Åà„Åæ„Åó„Åü', 'success');
        }

        function translateText() {
            const inputText = document.getElementById('inputText').value;
            const outputText = document.getElementById('outputText');
            
            if (!inputText.trim()) {
                showNotification('ÁøªË®≥„Åô„Çã„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ', 'error');
                return;
            }
            
            // Simulate translation
            outputText.value = 'ÁøªË®≥‰∏≠...';
            
            setTimeout(() => {
                if (currentFromLang === 'ja') {
                    outputText.value = simulateJapaneseToEnglish(inputText);
                } else {
                    outputText.value = simulateEnglishToJapanese(inputText);
                }
                showNotification('ÁøªË®≥„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü', 'success');
            }, 1500);
        }

        function simulateJapaneseToEnglish(text) {
            const translations = {
                '„Åì„Çì„Å´„Å°„ÅØ': 'Hello',
                '„ÅÇ„Çä„Åå„Å®„ÅÜ': 'Thank you',
                '„Åï„Çà„ÅÜ„Å™„Çâ': 'Goodbye',
                '„Åä„ÅØ„Çà„ÅÜ': 'Good morning',
                'Áæé„Åó„ÅÑ': 'Beautiful',
                'ÈáçË¶Å': 'Important',
                'Â≠¶Áøí': 'Learning',
                'ÁøªË®≥': 'Translation'
            };
            
            let result = text;
            Object.keys(translations).forEach(jp => {
                result = result.replace(new RegExp(jp, 'g'), translations[jp]);
            });
            
            return result || 'Hello! How are you today?';
        }

        function simulateEnglishToJapanese(text) {
            const translations = {
                'hello': '„Åì„Çì„Å´„Å°„ÅØ',
                'thank you': '„ÅÇ„Çä„Åå„Å®„ÅÜ',
                'goodbye': '„Åï„Çà„ÅÜ„Å™„Çâ',
                'beautiful': 'Áæé„Åó„ÅÑ',
                'important': 'ÈáçË¶Å',
                'learning': 'Â≠¶Áøí',
                'translation': 'ÁøªË®≥'
            };
            
            let result = text.toLowerCase();
            Object.keys(translations).forEach(en => {
                result = result.replace(new RegExp(en, 'g'), translations[en]);
            });
            
            return result || '„Åì„Çì„Å´„Å°„ÅØÔºÅ‰ªäÊó•„ÅØ„ÅÑ„Åã„Åå„Åß„Åô„ÅãÔºü';
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addChatMessage('user', message);
            input.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                const responses = [
                    '„Å®„Å¶„ÇÇËâØ„ÅÑË≥™Âïè„Åß„Åô„Å≠ÔºÅ„ÇÇ„ÅÜÂ∞ë„ÅóË©≥„Åó„ÅèÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    '„Åù„ÅÆË°®Áèæ„ÅØÁ¥†Êô¥„Çâ„Åó„ÅÑ„Åß„ÅôÔºÅÊ¨°„ÅØ„Åì„ÅÆÂçòË™û„Çí‰Ωø„Å£„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ',
                    'Áô∫Èü≥„Åå„Å®„Å¶„ÇÇ‰∏äÊâã„Å´„Å™„Çä„Åæ„Åó„Åü„Å≠ÔºÅ',
                    '„Åù„ÅÆÊñáÊ≥ï„ÅÆ‰Ωø„ÅÑÊñπ„ÅØÂÆåÁíß„Åß„ÅôÔºÅ'
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addChatMessage('ai', randomResponse);
            }, 1000);
        }

        function addChatMessage(sender, message) {
            const chatSection = document.getElementById('chatSection');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            messageDiv.innerHTML = `<strong>${sender === 'user' ? '„ÅÇ„Å™„Åü' : 'AIÊïôÂ∏´'}:</strong> ${message}`;
            
            chatSection.appendChild(messageDiv);
            chatSection.scrollTop = chatSection.scrollHeight;
        }

        function startVoiceChat() {
            showNotification('Èü≥Â£∞Ë™çË≠ò„ÇíÈñãÂßã„Åó„Åæ„Åó„Åü', 'info');
            // Simulate voice recognition
            setTimeout(() => {
                addChatMessage('user', '(Èü≥Â£∞ÂÖ•Âäõ) Hello, how are you?');
                setTimeout(() => {
                    addChatMessage('ai', 'Great! Your pronunciation is excellent!');
                }, 1000);
            }, 2000);
        }

        function pronounceWord(element) {
            const word = element.querySelector('.vocab-word').textContent;
            element.style.transform = 'scale(1.1)';
            showNotification(`"${word}" „ÇíÁô∫Èü≥‰∏≠...`, 'info');
            
            setTimeout(() => {
                element.style.transform = 'scale(1)';
            }, 500);
        }

        function selectQuizAnswer(element, isCorrect) {
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.disabled = true;
            });
            
            if (isCorrect) {
                element.classList.add('correct');
                showNotification('Ê≠£Ëß£„Åß„ÅôÔºÅÁ¥†Êô¥„Çâ„Åó„ÅÑÔºÅ', 'success');
            } else {
                element.classList.add('incorrect');
                showNotification('‰∏çÊ≠£Ëß£„Åß„Åô„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÊåëÊà¶„Åó„Åæ„Åó„Çá„ÅÜÔºÅ', 'error');
            }
            
            setTimeout(generateNewQuiz, 2000);
        }

        function generateNewQuiz() {
            const quizzes = [
                { question: '„Äå„ÅÇ„Çä„Åå„Å®„ÅÜ„Äç„ÇíËã±Ë™û„ÅßË®Ä„ÅÜ„Å®Ôºü', options: ['Thank you', 'Hello', 'Goodbye', 'Please'], correct: 0 },
                { question: '„ÄåÂ≠¶Áøí„Äç„ÇíËã±Ë™û„ÅßË®Ä„ÅÜ„Å®Ôºü', options: ['Study', 'Learning', 'Teaching', 'Reading'], correct: 1 },
                { question: '„ÄåÈáçË¶Å„Å™„Äç„ÇíËã±Ë™û„ÅßË®Ä„ÅÜ„Å®Ôºü', options: ['Necessary', 'Important', 'Difficult', 'Easy'], correct: 1 }
            ];
            
            const quiz = quizzes[Math.floor(Math.random() * quizzes.length)];
            document.getElementById('quizQuestion').textContent = quiz.question;
            
            const optionsContainer = document.querySelector('.quiz-options');
            optionsContainer.innerHTML = '';
            
            quiz.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option';
                button.textContent = option;
                button.onclick = () => selectQuizAnswer(button, index === quiz.correct);
                optionsContainer.appendChild(button);
            });
        }

        function startListening() {
            isListening = !isListening;
            const btn = event.target;
            
            if (isListening) {
                btn.classList.add('speaking');
                showNotification('üé§ Èü≥Â£∞Ë™çË≠òÈñãÂßã...', 'info');
            } else {
                btn.classList.remove('speaking');
                showNotification('üé§ Èü≥Â£∞Ë™çË≠òÂÅúÊ≠¢', 'info');
            }
        }

        function playPronunciation() {
            showNotification('üîä Áô∫Èü≥ÂÜçÁîü‰∏≠...', 'info');
            event.target.style.transform = 'scale(1.2)';
            setTimeout(() => {
                event.target.style.transform = 'scale(1)';
            }, 500);
        }

        function updateVocabulary() {
            const vocabWords = [
                { word: 'challenge', translation: 'ÊåëÊà¶' },
                { word: 'opportunity', translation: 'Ê©ü‰ºö' },
                { word: 'experience', translation: 'ÁµåÈ®ì' },
                { word: 'knowledge', translation: 'Áü•Ë≠ò' },
                { word: 'practice', translation: 'Á∑¥Áøí' },
                { word: 'progress', translation: 'ÈÄ≤Ê≠©' }
            ];
            
            // Randomly update vocabulary every 30 seconds
            setInterval(() => {
                const randomWord = vocabWords[Math.floor(Math.random() * vocabWords.length)];
                const cards = document.querySelectorAll('.vocab-card');
                if (cards.length > 0) {
                    const randomCard = cards[Math.floor(Math.random() * cards.length)];
                    randomCard.querySelector('.vocab-word').textContent = randomWord.word;
                    randomCard.querySelector('.vocab-translation').textContent = randomWord.translation;
                    randomCard.classList.add('floating');
                    setTimeout(() => randomCard.classList.remove('floating'), 3000);
                }
            }, 30000);
        }

        function updateProgress() {
            // Simulate progress updates
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                const currentWidth = parseInt(bar.style.width) || 0;
                const newWidth = Math.min(100, currentWidth + Math.random() * 2);
                bar.style.width = newWidth + '%';
            });
        }

        function startWordGame() {
            showNotification('üî§ ÂçòË™û„Ç≤„Éº„É†„ÇíÈñãÂßã„Åó„Åæ„ÅôÔºÅ', 'success');
        }

        function startMemoryGame() {
            showNotification('üß© Ë®òÊÜ∂„Ç≤„Éº„É†„ÇíÈñãÂßã„Åó„Åæ„ÅôÔºÅ', 'success');
        }

        function startSpeedQuiz() {
            showNotification('‚ö° „Çπ„Éî„Éº„Éâ„ÇØ„Ç§„Ç∫„ÇíÈñãÂßã„Åó„Åæ„ÅôÔºÅ', 'success');
        }

        function startStoryMode() {
            showNotification('üìñ „Çπ„Éà„Éº„É™„Éº„É¢„Éº„Éâ„ÇíÈñãÂßã„Åó„Åæ„ÅôÔºÅ', 'success');
        }

        function exportProgress() {
            showNotification('üìä Â≠¶Áøí„Éá„Éº„Çø„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà„Åó„Åæ„Åó„Åü', 'success');
        }

        function shareAchievement() {
            showNotification('üèÜ ÊàêÊûú„Çí„Ç∑„Çß„Ç¢„Åó„Åæ„Åó„Åü', 'success');
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'linear-gradient(45deg, #00b894, #00cec9)' : 
                           type === 'error' ? 'linear-gradient(45deg, #e74c3c, #c0392b)' :
                           'linear-gradient(45deg, #667eea, #f093fb)'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                z-index: 1000;
                animation: slideIn 0.3s ease;
                font-weight: bold;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Add slide animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey) {
                switch(e.key) {
                    case 'Enter':
                        e.preventDefault();
                        translateText();
                        break;
                    case 's':
                        e.preventDefault();
                        swapLanguages();
                        break;
                    case 'm':
                        e.preventDefault();
                        sendMessage();
                        break;
                }
            }
        });

        // Auto-focus chat input on Enter
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.target.id === 'chatInput') {
                sendMessage();
            }
        });
    </script>
</body>
</html>